---
import WindowBase from "./WindowBase.astro";
import { projects } from "../data/projects";
---

<WindowBase
	title="Projects"
	x={480}
	y={300}
	width={560}
	height={360}
	zIndex={14}
	windowId="projects-window"
>
	<div id="projects" class="guide">
		<div class="guide-title">Projects</div>
		<ul class="guide-list">
			{projects.map((p) => (
				<li>
					<strong>{p.title}</strong>{" "}
					{p.year && <small class="opacity-80">· {p.year}</small>}
					{p.summary && <div class="text-sm">{p.summary}</div>}
					{p.tech && p.tech.length > 0 && (
						<div class="text-sm opacity-80">{p.tech.join(" · ")}</div>
					)}
				</li>
			))}
		</ul>

		<div class="guide-pager" aria-label="Pager">
			<button class="pager-btn" type="button" aria-label="Anterior" disabled>◀</button>
			<span class="pager-index" aria-live="polite">1</span>
			<button class="pager-btn" type="button" aria-label="Siguiente" disabled>▶</button>
		</div>
	</div>
</WindowBase>

<style is:inline>
	.guide { font-size: var(--fs-10); line-height: 1.35; }
	.guide-title { font-weight: 700; margin-bottom: 6px; }
	.guide-list { list-style: disc; padding-left: 1.1rem; margin: 8px 0; display: grid; gap: 6px; }
	.guide-pager { position: absolute; bottom: 6px; right: 16px; display: flex; gap: 6px; justify-content: flex-end; margin-top: 0; }
	.pager-btn { width: 18px; height: 18px; border: 1px solid var(--black); background:#fff; line-height: 14px; padding:0; }
	.pager-btn[disabled] { opacity: .6; }
	.pager-index { display:inline-block; min-width: 18px; text-align: center; border:1px solid var(--black); }
</style>
