---
import WindowBase from "./WindowBase.astro";
const base = (import.meta as any).env?.BASE_URL || "/";
---

<WindowBase
	title="About This Macintosh"
	x={120}
	y={80}
	width={420}
	height={300}
	zIndex={15}
	windowId="about-mac-window"
	initiallyVisible={false}
>
	<div class="about-mac">
		<div class="about-head">
			<img src={base + "icons/apple.svg"} alt="" width="28" height="28" />
			<div>
				<div class="about-title">About This Macintosh</div>
				<div class="about-sub">System Software 7.5</div>
			</div>
		</div>

		<div class="divider-double" aria-hidden="true">
			<span></span><span></span>
		</div>

		<div class="mem-box">
			<div class="mem-row strong">
				<span>Total Memory:</span><span>131,072K</span>
			</div>
			<div class="mem-row strong">
				<span>Largest Unused Block:</span><span>126,789K</span>
			</div>

			<div class="apps">
				<div class="app-row">
					<span class="app-name">
						<span class="dot" aria-hidden="true"></span> Stickies
					</span>
					<span class="app-size">120K</span>
					<span class="app-bar" aria-hidden="true"><i style="width:8%"></i></span>
				</div>
				<div class="app-row">
					<span class="app-name">
						<span class="folder" aria-hidden="true"></span> System Software
					</span>
					<span class="app-size">4,118K</span>
					<span class="app-bar" aria-hidden="true"><i style="width:40%"></i></span>
				</div>
			</div>
		</div>
	</div>
</WindowBase>

<style is:inline>
	.about-mac { font-size: var(--fs-10); }
	.about-head { display: flex; gap: 8px; align-items: center; }
	.about-title { font-weight: 700; }
	.about-sub { opacity: 0.9; }

	.mem-box { margin-top: 8px; display: grid; gap: 8px; }
	.mem-row { display: flex; justify-content: space-between; }
	.mem-row.strong span:first-child { font-weight: 700; }
	.mem-row span:first-child { padding-right: 8px; }

	.apps { margin-top: 4px; border: 1px solid var(--black); background:#fff; padding: 6px; }
	.app-row { display: grid; grid-template-columns: 1fr auto 120px; align-items: center; gap: 8px; padding: 2px 0; }
	.app-name { display: inline-flex; align-items: center; gap: 6px; }
	.dot { width: 8px; height: 8px; background: var(--black); display:inline-block; }
	.folder { width: 10px; height: 8px; border: 1px solid var(--black); display:inline-block; background:#fff; }
	.app-size { text-align: right; min-width: 60px; }
	.app-bar { position: relative; height: 10px; border: 1px solid var(--black); background:#fff; image-rendering: pixelated; }
	.app-bar i { position:absolute; left:0; top:0; bottom:0; background: var(--black); display:block; }
</style>
