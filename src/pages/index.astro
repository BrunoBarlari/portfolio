---
import Base from '../layouts/Base.astro';
import MenuBar from '../components/MenuBar.astro';
import Window from '../components/Window.astro';
import Divider from '../components/Divider.astro';
import IconButton from '../components/IconButton.astro';
import ToggleRetro from '../components/ToggleRetro.astro';
import { projects } from '../data/projects';
---
<Base>
  <MenuBar currentPath={Astro.url.pathname} />
  <main class="pt-12 px-4 mx-auto" id="content">
    <section class="hero mt-8 max-w-prose" aria-labelledby="hero-title">
      <h1 id="hero-title" class="hero-name">Tu Nombre</h1>
      <p class="text-sm mt-2 font-semibold">Desarrollador de Software · Especializado en arquitectura web, rendimiento y DX.</p>
      <p class="mt-3 text-sm leading-relaxed">Me enfoco en construir soluciones claras, mantenibles y rápidas. Disfruto optimizar flujos, depurar a bajo nivel y guiar equipos hacia entregas consistentes.</p>
      <div class="mt-4 flex gap-2 items-center flex-wrap">
        <IconButton src="/icons/github.svg" alt="GitHub" href="https://github.com/usuario" />
        <IconButton src="/icons/linkedin.svg" alt="LinkedIn" href="https://linkedin.com/in/usuario" />
        <IconButton src="/icons/email.svg" alt="Email" href="mailto:correo@ejemplo.dev" />
        <ToggleRetro />
      </div>
    </section>

    <Divider />

    <div class="container">
      <div class="desktop-grid">
        <Window title="About" initiallyOpen={true} size="md">
          <div id="about">
            <p>Soy un desarrollador orientado a resultados que prioriza código legible y decisiones técnicas justificadas. Valoro la comunicación directa y el aprendizaje continuo.</p>
          </div>
        </Window>

        <Window title="Skills" initiallyOpen={true} size="md">
          <div id="skills" class="grid-skills">
            <div><strong>Lenguajes</strong><br/>TypeScript · JavaScript · Python · Go</div>
            <div><strong>Frontend</strong><br/>Astro · React · Vue · Tailwind</div>
            <div><strong>Backend</strong><br/>Node.js · REST · GraphQL · SQL/NoSQL</div>
            <div><strong>DevOps</strong><br/>CI/CD · Docker · Observabilidad</div>
            <div><strong>Calidad</strong><br/>Testing · Linting · Code Review</div>
            <div><strong>Metodologías</strong><br/>Lean · Kanban · Domain-Driven</div>
          </div>
        </Window>

        <Window title="Contact" initiallyOpen={true} size="sm">
          <div id="contact">
            <p>¿Conversamos? Puedes escribirme o conectar en redes:</p>
            <ul class="text-sm list-disc pl-5 leading-relaxed">
              <li>Email: <a href="mailto:correo@ejemplo.dev" class="btn-link">correo@ejemplo.dev</a></li>
              <li>LinkedIn: <a href="https://linkedin.com/in/usuario" class="btn-link">/in/usuario</a></li>
              <li>GitHub: <a href="https://github.com/usuario" class="btn-link">@usuario</a></li>
              <li>Twitter: <a href="https://twitter.com/usuario" class="btn-link">@usuario</a></li>
            </ul>
          </div>
        </Window>

        <Window title="Projects" initiallyOpen={true} size="lg">
          <div id="projects" class="projects-list">
            {projects.map(p => (
              <article class="project">
                <h3 class="project-title">{p.title} {p.year && <small class="year">· {p.year}</small>}</h3>
                <p class="project-summary">{p.summary}</p>
                {p.tech && <p class="project-tech">{p.tech.join(' · ')}</p>}
                {p.links && p.links.length > 0 && (
                  <p class="project-links">
                    {p.links.map(l => (<a href={l.url} class="btn-link" rel="noopener noreferrer" target={l.url.startsWith('http') ? '_blank': undefined}>{l.label}</a>)).reduce((acc, el, i, arr)=> acc.concat(el, i < arr.length-1 ? ' · ' : ''), [])}
                  </p>
                )}
              </article>
            ))}
          </div>
        </Window>
      </div>
    </div>
  </main>
</Base>
