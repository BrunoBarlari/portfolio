---
import Base from "../layouts/Base.astro";
import MenuBar from "../components/MenuBar.astro";
import Desktop from "../components/Desktop.astro";
import AboutWindow from "../components/AboutWindow.astro";
import ContactWindow from "../components/ContactWindow.astro";
import ProjectsWindow from "../components/ProjectsWindow.astro";
import AboutThisMacWindow from "../components/AboutThisMacWindow.astro";
import HardDiskWindow from "../components/HardDiskWindow.astro";
import TrashWindow from "../components/TrashWindow.astro";
import ProjectDetailWindow from "../components/ProjectDetailWindow.astro";
import { projects } from "../data/projects";
import ControlPanelsWindow from "../components/ControlPanelsWindow.astro";
import WindowBase from "../components/WindowBase.astro";
import SystemDialog from "../components/SystemDialog.astro";
---

<Base>
	<MenuBar currentPath={Astro.url.pathname} />
	<Desktop>
		<AboutWindow />
		<ContactWindow />
		<ProjectsWindow />
		{
			projects.map((p, i) => (
				<ProjectDetailWindow project={p} windowId={`project-${i}-window`} />
			))
		}
		<AboutThisMacWindow />
		<HardDiskWindow />
		<TrashWindow />
		<ControlPanelsWindow />
		<WindowBase
			title="Chooser"
			x={160}
			y={160}
			width={280}
			height={180}
			windowId="chooser-window"
			initiallyVisible={false}
		>
			<div class="text-sm opacity-80">Choose a deviceâ€¦ (placeholder)</div>
		</WindowBase>
		<SystemDialog
			title="Restart"
			message="Are you sure you want to restart?"
			windowId="restart-window"
			confirmLabel="Restart"
			cancelLabel="Cancel"
		/>
		<SystemDialog
			title="Shut Down"
			message="Are you sure you want to shut down?"
			windowId="shutdown-window"
			confirmLabel="Shut Down"
			cancelLabel="Cancel"
		/>
	</Desktop>
</Base>
